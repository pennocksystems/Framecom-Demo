<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Framecom Chatbot</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@600&display=swap" rel="stylesheet">
</head>
<body>

  <!-- Toggle Button (Robot Emoji or Icon) -->
  <div id="chatbot-toggle">
    <img src="framecomlogo.png" alt="Chatbot" class="chatbot-logo" />
  </div>

  <!-- Chatbot Frame -->
  <div id="chatbot-frame">
    <div class="chatbot-box">
      <div class="chat-header">
        <strong>Framecom</strong>
        <button class="reset-btn" title="Reset Chat" onclick="resetChat()">âŸ²</button>
      </div>

      <div class="chat-body" id="chatbot-messages">
        <div class="bot-message">Please select your <strong>language</strong> / Por favor seleccione su <strong>idioma</strong> ğŸŒ</div>
        <div id="chatbot-language-buttons">
          <button class="chatbot-btn" onclick="chooseLanguage('en')">English</button>
          <button class="chatbot-btn" onclick="chooseLanguage('es')">EspaÃ±ol</button>
        </div>
      </div>

      <!-- Button Options Area -->
      <div id="chatbot-buttons-container" style="display:none;">
        <div id="chatbot-buttons" class="button-container"></div>
      </div>
    </div>
  </div>

  <script>
    const chatbotToggle = document.getElementById("chatbot-toggle");
    const chatbotFrame = document.getElementById("chatbot-frame");
    const messages = document.getElementById("chatbot-messages");
    const buttonContainer = document.getElementById("chatbot-buttons");
    const buttonsWrapper = document.getElementById("chatbot-buttons-container");
   
    const buttonOptions = {
      en: ["ServicesğŸ”¨", "ContactğŸ“²", "DiscoverğŸŒ", "CNCâš¡"],
      es: ["ServiciosğŸ”¨", "ContactoğŸ“²", "DescubrirğŸŒ", "CNCâš¡"]
    };

    chatbotToggle.addEventListener("click", () => {
      chatbotFrame.classList.toggle("show");
      scrollToBottom();
    });

    function chooseLanguage(lang) {
      appendUserMessage(lang === 'en' ? 'English' : 'EspaÃ±ol');
      showTypingIndicator();
      setTimeout(() => {
        hideTypingIndicator();
        appendBotMessage(lang === 'en' ? 'Hi there! How can I assist you?ğŸ‘‹' : 'Â¡Hola! Â¿En quÃ© puedo ayudarte?ğŸ‘‹');
        renderButtons(lang);
        scrollToBottom();
      }, 1000);
    }

    function renderButtons(lang) {
      buttonContainer.innerHTML = "";
      buttonsWrapper.style.display = "flex";

      buttonOptions[lang].forEach(option => {
        const btn = document.createElement("button");
        btn.className = "chatbot-btn";
        btn.innerText = option;
        btn.onclick = () => handleFAQ(option, lang);
        buttonContainer.appendChild(btn);
      });
    }

    function handleFAQ(text, lang) {
      appendUserMessage(text);
      let response = "";

      showTypingIndicator();
      setTimeout(() => {
        hideTypingIndicator();

        switch (text) {
          case "ServicesğŸ”¨":
          case "ServiciosğŸ”¨":
            response = lang === "en"
              ? "We provide <strong>precision-engineered framing solutions</strong> and <strong>CNC-machined components</strong>. Select a service for <strong>more information</strong>ğŸªš"
              : "Ofrecemos <strong>soluciones de enmarcado de ingenierÃ­a de precisiÃ³n</strong> y <strong>componentes mecanizados por CNC.</strong> Seleccione un servicio para obtener <strong>mÃ¡s informaciÃ³n</strong>ğŸªš";
            appendBotMessage(response);
            setTimeout(() => renderServiceButtonsInChat(lang), 500);
            break;

          case "ContactğŸ“²":
          case "ContactoğŸ“²":
            response = lang === "en"
              ? `ğŸ“ You can contact us anytime!<br><br>
ğŸ“§ <strong>Email:</strong><br>sales@framecom.com<br>
ğŸ“± <strong>Phone:</strong><br>(408)592-6187<br>
ğŸ“<strong>Address:</strong><br>4450 Monterey Hwy, Gilroy, CA 95200`
              : `ğŸ“ Â¡Puedes contactarnos en cualquier momento!<br><br>
ğŸ“§ <strong>Correo:</strong><br>sales@framecom.com<br>
ğŸ“± <strong>TelÃ©fono:</strong><br>(408)592-6187<br>
ğŸ“<strong>DirecciÃ³n:</strong><br>4450 Monterey Hwy, Gilroy, CA 95200`;
            appendBotMessage(response);
            break;
case "DiscoverğŸŒ":
case "DescubrirğŸŒ":
  response = lang === "en"
    ? 'Discover more with our <strong><a href="map.html" target="_blank">interactive map</a></strong>! ğŸ”'
    : 'Â¡Descubre mÃ¡s con nuestro <strong><a href="map.html" target="_blank">mapa interactivo</a></strong>! ğŸ”';
  appendBotMessage(response);
  break;
          case "CNCâš¡":
            response = lang === "en"
              ? "Our <strong>CNC</strong> is at the core of Framecomâ€™s craftsmanship. It lets us create wood components with incredible detail, curves, and precisionâ€”<strong>quickly and consistently</strong>âš¡"
              : "Nuestro <strong>CNC</strong> es la base de la artesanÃ­a de Framecom. Nos permite crear componentes de madera con detalles, curvas y precisiÃ³n increÃ­bles, de forma <strong>rÃ¡pida y consistente</strong>âš¡";
            appendBotMessage(response);
            break;

          default:
            response = lang === "en" ? "Sorry, I didnâ€™t understand that." : "Lo siento, no entendÃ­ eso.";
            appendBotMessage(response);
        }
      }, 1000);
    }

    function renderServiceButtonsInChat(lang) {
      const serviceOptions = lang === "en" ? ["Box Beams", "Pergolas", "Framing", "Timber Trusses", "Corbels", "Gates & Doors", "Millwork", "More"] : ["Vigas de caja", "PÃ©rgolas", "Enmarcado", "Vigas de madera", "Corbelos", "Puertas y portones", "CarpinterÃ­a", "MÃ¡s"];
     
      const buttonContainer = document.createElement('div');
      buttonContainer.className = 'button-container';
     
      serviceOptions.forEach(option => {
        const btn = document.createElement("button");
        btn.className = "chatbot-btn service-btn";
        btn.innerText = option;
        btn.onclick = () => handleServiceOption(option, lang);
        buttonContainer.appendChild(btn);
      });

      messages.appendChild(buttonContainer);
      scrollToBottom();
    }

    function handleServiceOption(option, lang) {
      appendUserMessage(option);

      const links = {
        "Box Beams": "boxbeams", "Vigas de caja": "boxbeams",
        "Pergolas": "pergolas", "PÃ©rgolas": "pergolas",
        "Framing": "framing-components", "Enmarcado": "framing-components",
        "Timber Trusses": "timber-trusses", "Vigas de madera": "timber-trusses",
        "Corbels": "corbels", "Corbelos": "corbels",
        "Gates & Doors": "gates", "Puertas y portones": "gates",
        "Millwork": "mill-work", "CarpinterÃ­a": "mill-work",
        "More": "about-us", "MÃ¡s": "about-us"
      };

      if (links[option]) {
        window.open(`https://framecom.com/${links[option]}/`, "_blank");
      }

      const response = lang === "en"
        ? `You selected: <strong>${option}</strong>. We've opened the <strong>${option}</strong> page in a new tab for you!ğŸ‘`
        : `Seleccionaste: <strong>${option}</strong>. Â¡Hemos abierto la pÃ¡gina de <strong>${option}</strong> en una nueva pestaÃ±a para ti!ğŸ‘`;

      appendBotMessage(response);
    }

    function appendUserMessage(text) {
      const msg = document.createElement("div");
      msg.className = "user-message";
      msg.innerHTML = text;
      messages.appendChild(msg);
      scrollToBottom();
    }

    function appendBotMessage(text) {
      const msg = document.createElement("div");
      msg.className = "bot-message";
      msg.innerHTML = text;
      messages.appendChild(msg);
      scrollToBottom();
    }

    function scrollToBottom() {
      messages.scrollTop = messages.scrollHeight;
    }

    function showTypingIndicator() {
      const typing = document.createElement("div");
      typing.className = "typing";
      typing.id = "typing-indicator";

      const dots = document.createElement("div");
      dots.className = "typing-dots";
      for (let i = 0; i < 3; i++) {
        const dot = document.createElement("div");
        dot.className = "typing-dot";
        dots.appendChild(dot);
      }

      typing.appendChild(dots);
      messages.appendChild(typing);
      scrollToBottom();
    }

    function hideTypingIndicator() {
      const typing = document.getElementById("typing-indicator");
      if (typing) typing.remove();
    }

    function resetChat() {
      messages.innerHTML = `
        <div class="bot-message">Please select your <strong>language</strong> / Por favor seleccione su <strong>idioma</strong> ğŸŒ</div>
        <div id="chatbot-language-buttons">
          <button class="chatbot-btn" onclick="chooseLanguage('en')">English</button>
          <button class="chatbot-btn" onclick="chooseLanguage('es')">EspaÃ±ol</button>
        </div>`;
      buttonContainer.innerHTML = "";
      buttonsWrapper.style.display = "none";
    }
  </script>
</body>
</html>





